<!DOCTYPE html>
<html lang="en">

<head>
<title>Tetris is Capable of Universal Computation</title>
<link rel="stylesheet" href="style.css?v=2022-12-25" type="text/css">
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="icon" href="favicon.ico" sizes="any" type="image/x-icon">
<link rel="shortcut icon" href="favicon.ico" sizes="any" type="image/x-icon">
<link rel="mask-icon" href="mask-icon.svg" color="#000000">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="manifest" href="manifest.json">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bentham&family=Open+Sans&family=Source+Code+Pro&family=Source+Serif+Pro&family=Roboto+Mono&display=swap" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#FFFFFF">
<meta name="date" content="2022-12-25">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>

<body>

<table class="previous-next">
<tr><td><p class="previous"><a href="tse-user-interface.html"><span class="zapf">&#129092;</span> Previous</a></p></td><td><p class="next"><a href="tse-wires.html">Next <span class="zapf">&#129094;</span></a></p></td></tr>
</table>

<p class="path"><a href="index.html">Contents</a> &gt; <a href="applications.html">Applications</a> &gt; <a href="tetrominoscript-editor.html">TetrominoScript Editor</a></p>

<h3 id="tse-nand-tutorial">NAND Tutorial</h3>

<p>This tutorial demonstrates the features of TSE by explaining how to construct a <span class="nowrap">NAND gate</span>.</p>  

<p>Select <span class="menu">File &gt; New...</span> or press <span class="keys">Ctrl-N</span>:</p>

<p><img id="tse-file-new.png" class="centered" src="tse-file-new.png" alt="tse-file-new.png"></p>

<p>In the New file chooser, navigate to <span class="mono">code/ts/examples</span>, enter <span class="mono">nandExample.t</span>, and hit <span class="menu">Save</span>:</p>

<p><img id="tse-new-file-chooser.png" class="centered" src="tse-new-file-chooser.png" alt="tse-new-file-chooser.png"></p>

<p>The window regions reset, and <span class="mono">nandExample</span> appears in the title bar:</p>

<p><img id="tse-new-result.png" class="centered" src="tse-new-result.png" alt="tse-new-result.png"></p>

<p>Turn the <span class="keys">scroll wheel</span> to adjust the grid cell size to 32:</p>

<p><img id="tse-zoom-32.png" class="centered" src="tse-zoom-32.png" alt="tse-zoom-32.png"></p>

<p>The goal is to build the following circuit.</p>

<object id="nand-schematic.svg" data="nand-schematic.svg" type="image/svg+xml" class="diagram">NAND Schematic</object>

<p>It will be constructed bottom-up, starting with the input nodes.</p>

<p>Type <span class="mono nowrap">&ldquo;in a&rdquo;</span> into the <span class="nowrap">TS program</span> region:</p>

<p><img id="tse-in-a.png" class="centered" src="tse-in-a.png" alt="tse-in-a.png"></p>

<p>Click on grid cell <span class="mono nowrap">&minus;2:0</span>:</p>

<p><img id="tse-cell-minus-two-zero.png" class="centered" src="tse-cell-minus-two-zero.png" alt="tse-cell-minus-two-zero.png"></p>

<p>That transfers the cell coordinates to the <span class="nowrap">TS program</span>:</p>

<p><img id="tse-in-a-coordinates.png" class="centered" src="tse-in-a-coordinates.png" alt="tse-in-a-coordinates.png"></p>

<p>Press <span class="keys">Enter</span>. Type <span class="mono nowrap">&ldquo;in b&rdquo;</span>. Click on cell <span class="mono nowrap">1:0</span>:</p>

<p><img id="tse-in-b.png" class="centered" src="tse-in-b.png" alt="tse-in-b.png"></p>

<p>Click on the input field. Type <span class="mono nowrap">&ldquo;01&rdquo;</span>:</p>

<p><img id="tse-input-01.png" class="centered" src="tse-input-01.png" alt="tse-input-01.png"></p>

<p>Press the <span class="keys">Run</span> button.</p>

<p>The input nodes appear in the playfield. Their states correspond to the input bits:</p>

<p><img id="tse-nodes.png" class="centered" src="tse-nodes.png" alt="tse-nodes.png"></p>

<p>Note: TSE assigns the input nodes to the bit values from left to right regardless of order that the <span class="nowrap">TS program</span> defines them. Also, for readability, bit strings with many digits can be partitioned into nibbles or arbitrary group sizes by using spaces as separators.</p>

<p>In the <span class="nowrap">TS program</span>, make sure the cursor is positioned at the end of <span class="nowrap">line 2</span> or at the start of <span class="nowrap">line 3</span>. Click on the components <span class="nowrap">combo box</span>. Type <span class="mono">&ldquo;notLeft&rdquo;</span>:</p>

<p><img id="tse-notleft-select.png" class="centered" src="tse-notleft-select.png" alt="tse-notleft-select.png"></p>

<p>Press the <span class="keys">Add</span> button. Move the mouse cursor into the playfield:</p>

<p><img id="tse-notleft-drag.png" class="centered" src="tse-notleft-drag.png" alt="tse-notleft-drag.png"></p>

<p>TSE depicts <span class="mono">notLeft</span> as a dark rectangle. An unassigned input node protrudes from its bottom. An output node assigned <span class="mono">1</span> extends from its top.</p>

<p><span class="nowrap">Node <span class="mono">a</span></span> will serve as <span class="mono">notLeft</span>'s input node. Overlap the nodes thusly:</p>

<p><img id="tse-notleft-insert.png" class="centered" src="tse-notleft-insert.png" alt="tse-notleft-insert.png"></p>

<p>Click the <span class="keys">left mouse</span> button.</p>

<p>TSE appends <span class="mono">notLeft</span> to the <span class="nowrap">TS program</span>:</p>

<p><img id="tse-notleft-added.png" class="centered" src="tse-notleft-added.png" alt="tse-notleft-added.png"></p>

<p>Note: While positioning a component, the <span class="keys">right mouse button</span> or <span class="keys">Esc</span> deselects the component. Also, if a component is put in the wrong place, edit its coordinates in the <span class="nowrap">TS program</span> and press the <span class="keys">Run</span> button to update the playfield.</p> 

<p>In the <span class="nowrap">TS program</span>, make sure the cursor is positioned at the end of <span class="nowrap">line 3</span> or at the start of <span class="nowrap">line 4</span>. Click on the components <span class="nowrap">combo box</span>. Type <span class="mono">&ldquo;notRight&rdquo;</span>:</p>

<p><img id="tse-notright-select.png" class="centered" src="tse-notright-select.png" alt="tse-notright-select.png"></p>

<p>Press the <span class="keys">Add</span> button. Move the mouse cursor into the playfield. Overlap <span class="nowrap">node <span class="mono">b</span></span> and <span class="mono">notRight</span>'s input node:</p>

<p><img id="tse-notright-overlap.png" class="centered" src="tse-notright-overlap.png" alt="tse-notright-overlap.png"></p>

<p>Click the <span class="keys">left mouse</span> button.</p>

<p>TSE appends <span class="mono">notRight</span> to the <span class="nowrap">TS program</span>:</p>

<p><img id="tse-notright-appended.png" class="centered" src="tse-notright-appended.png" alt="tse-notright-appended.png"></p>

<p>Note that the inverters' input and output nodes are in opposite states:</p>

<p><img id="tse-notright-value.png" class="centered" src="tse-notright-value.png" alt="tse-notright-value.png"></p>

<p>Set the rendering depth to 2 by adjusting the leftmost spinner on the <span class="nowrap">status bar</span>:</p>

<p><img id="tse-depth-2.png" class="centered" src="tse-depth-2.png" alt="tse-depth-2.png"></p>

<p>At that rendering depth, TSE reveals the inner workings of the inverters.</p>

<p>Both input nodes should be three cells wide. Edit them as follows.</p>

<p><img id="tse-three-wide.png" class="centered" src="tse-three-wide.png" alt="tse-three-wide.png"></p>

<p>Press the <span class="keys">Run</span> button:</p>

<p><img id="tse-three-wide-2.png" class="centered" src="tse-three-wide-2.png" alt="tse-three-wide-2.png"></p>

<p>A TS program can label its components. Type <span class="mono">&ldquo;not1&rdquo;</span> immediately right of <span class="mono">notLeft</span>. Type <span class="mono">&ldquo;not2&rdquo;</span> immediately right of <span class="mono">notRight</span>:</p>

<p><img id="tse-not1-not2.png" class="centered" src="tse-not1-not2.png" alt="tse-not1-not2.png"></p>

<p>Set the rendering depth back to 1. Press the <span class="keys">Run</span> button:</p>

<p><img id="tse-not1-not2-depth-1.png" class="centered" src="tse-not1-not2-depth-1.png" alt="tse-not1-not2-depth-1.png"></p>

<p>In the <span class="nowrap">TS program</span>, make sure the cursor is positioned at the end of <span class="nowrap">line 4</span> or at the start of <span class="nowrap">line 5</span>. Click on the components <span class="nowrap">combo box</span>. Type <span class="mono">&ldquo;or&rdquo;</span>:</p>

<p><img id="tse-or-select.png" class="centered" src="tse-or-select.png" alt="tse-or-select.png"></p>

<p>Press the <span class="keys">Add</span> button. Move the mouse cursor into the playfield:</p>

<p><img id="tse-or-added.png" class="centered" src="tse-or-added.png" alt="tse-or-added.png"></p>

<p>TSE depicts <span class="mono">or</span> as a dark square. Two unassigned input nodes protrude from its bottom. An unsigned output extends from its top.</p>

<p>The output nodes of the inverters will serve as the input nodes of the <span class="nowrap">OR gate</span>. Overlap the nodes thusly:</p>

<p><img id="tse-or-overlap.png" class="centered" src="tse-or-overlap.png" alt="tse-or-overlap.png"></p>

<p>Click the <span class="keys">left mouse</span> button.</p>

<p>TSE appends <span class="mono">or</span> to the <span class="nowrap">TS program</span>:</p>

<p><img id="tse-or-appended.png" class="centered" src="tse-or-appended.png" alt="tse-or-appended.png"></p>

<p>The <span class="nowrap">OR gate's</span> output node will serve as the output of the NAND gate.</p>

<p>Press <span class="keys">Enter</span>. Type <span class="mono nowrap">&ldquo;out o -1..0 7&rdquo;</span>:

<p><img id="tse-output-node.png" class="centered" src="tse-output-node.png" alt="tse-output-node.png"></p>

<p>Click on the input field. Type <span class="mono nowrap">&ldquo;11&rdquo;</span>. Press the <span class="keys">Run</span> button:</p>

<p><img id="tse-input-11.png" class="centered" src="tse-input-11.png" alt="tse-input-11.png"></p>

<p>Repeat for all possible input values. Verify the output is <span class="mono">0</span> only when both inputs are <span class="mono">1</span>.</p>

<p>In the JavaScript region, type in the following snippet.</p>

<p><img id="tse-js.png" class="centered" src="tse-js.png" alt="tse-js.png"></p>

<p>Select <span class="menu">Run &gt; Test Fully</span> or press <span class="keys">Shift-F6</span>:</p>

<p><img id="tse-test-fully.png" class="centered" src="tse-test-fully.png" alt="tse-test-fully.png"></p>

<p>That causes TSE to compare the <span class="nowrap">NAND gate's</span> output with the value from JavaScript snippet for all possible inputs. They match:</p>

<p><img id="tse-test-passed.png" class="centered" src="tse-test-passed.png" alt="tse-test-passed.png"></p>

<p>Click on <span class="nowrap">line 4</span> of the <span class="nowrap">TS program</span>. Press <span class="keys">Ctrl-/</span> to comment out the line:</p>

<p><img id="tse-comment.png" class="centered" src="tse-comment.png" alt="tse-comment.png"></p>

<p>Press <span class="keys">Shift-F6</span> to test again. With the missing inverter, the test fails:</p>

<p><img id="tse-test-failed.png" class="centered" src="tse-test-failed.png" alt="tse-test-failed.png"></p>

<p>Click on <span class="nowrap">line 4</span> of the <span class="nowrap">TS program</span>. Press <span class="keys">Ctrl-/</span> to uncomment out the line.</p>

<p>Verify the NAND gates works once again.</p>

<p>If a circuit has a large number of inputs, <span class="menu">Run &gt; Test Fully</span> may take several minutes to complete. And since TSE parallelizes testing, it consumes <span class="nowrap">100% CPU</span> during that period.</p>

<p>The alternative, <span class="menu">Run &gt; Test Quickly</span> or <span class="keys">Ctrl-F6</span>, compares the circuitâ€™s output with the JavaScript for a randomly selected subset of the possible input values. It covers only 10% of the testing space, enabling it to finish 10&times; faster.</p>

<p>To terminate a long-running test, select <span class="menu">Run &gt; Cancel Test</span> or press <span class="keys">Alt-F6</span>.</p>

<p>TSE recursively renders a circuit to a specified cutoff depth. At the cutoff, it assigns output nodes by evaluating JavaScript snippets. Meaning, not only does it display less detail, it simulates less detail. Consequentially, the lower the depth, the faster the render.</p>

<p>To make this clear, set the rendering depth <span class="nowrap">to 0</span>:</p>

<p><img id="tse-depth-0.png" class="centered" src="tse-depth-0.png" alt="tse-depth-0.png"></p>

<p>TSE assigns the output node by evaluating the JavaScript snippet rather than simulating <span class="mono">nandExample</span>'s unseen internals.</p>

<p>Set the rendering depth <span class="nowrap">to 1</span>:</p>

<p><img id="tse-depth-1.png" class="centered" src="tse-depth-1.png" alt="tse-depth-1.png"></p>

<p>TSE assigns the output nodes of the inverters and the <span class="nowrap">OR gate</span> by evaluating their JavaScript snippets rather than simulating their unseen internals.</p>

<p>Set the rendering depth <span class="nowrap">to 2</span>:</p>

<p><img id="tse-depth-2a.png" class="centered" src="tse-depth-2a.png" alt="tse-depth-2a.png"></p>

<p>At this rendering depth, TSE fully simulates everything. It ignores the JavaScript snippets.</p>

<p>Select <span class="menu">File &gt; Save</span> or press <span class="keys">Ctrl-S</span>.</p>

<p>TSE saves components as two separate files. In this case, it writes the TS program to <span class="mono">code/ts/examples/nandExample.t</span> and the JavaScript snippet to <span class="mono">code/ts/examples/nandExample.js</span>.</p>

<p>All files within code/ts, in any subdirectory or otherwise, are part of the components catalog.</p>

<p>That completes the NAND tutorial.</p>

<table class="previous-next">
<tr><td><p class="previous"><a href="tse-user-interface.html"><span class="zapf">&#129092;</span> Previous</a></p></td><td><p class="next"><a href="tse-wires.html">Next <span class="zapf">&#129094;</span></a></p></td></tr>
</table>

<hr>
<table class="copyright">
<tr><td><p class="copyright">&copy; 2023 meatfighter.com<br>This work is licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="CC"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="BY"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt="SA"></a></p></td><td><p class="home"><a href="https://meatfighter.com">Home</a></p></td></tr>
</table>

</body>

</html>

