a = 0;
a <<= 1;
a |= (ai7 ? 1 : 0);
a <<= 1;
a |= (ai6 ? 1 : 0);
a <<= 1;
a |= (ai5 ? 1 : 0);
a <<= 1;
a |= (ai4 ? 1 : 0);
a <<= 1;
a |= (ai3 ? 1 : 0);
a <<= 1;
a |= (ai2 ? 1 : 0);
a <<= 1;
a |= (ai1 ? 1 : 0);
a <<= 1;
a |= (ai0 ? 1 : 0);

b = 0;
b <<= 1;
b |= (bi7 ? 1 : 0);
b <<= 1;
b |= (bi6 ? 1 : 0);
b <<= 1;
b |= (bi5 ? 1 : 0);
b <<= 1;
b |= (bi4 ? 1 : 0);
b <<= 1;
b |= (bi3 ? 1 : 0);
b <<= 1;
b |= (bi2 ? 1 : 0);
b <<= 1;
b |= (bi1 ? 1 : 0);
b <<= 1;
b |= (bi0 ? 1 : 0);

d = a - b;

d0 = (d & 1) != 0;
d >>= 1;
d1 = (d & 1) != 0;
d >>= 1;
d2 = (d & 1) != 0;
d >>= 1;
d3 = (d & 1) != 0;
d >>= 1;
d4 = (d & 1) != 0;
d >>= 1;
d5 = (d & 1) != 0;
d >>= 1;
d6 = (d & 1) != 0;
d >>= 1;
d7 = (d & 1) != 0;
d >>= 1;

bo7 = bi7;
bo6 = bi6;
bo5 = bi5;
bo4 = bi4;
bo3 = bi3;
bo2 = bi2;
bo1 = bi1;
bo0 = bi0;