// Example 3 expanded