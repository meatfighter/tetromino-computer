a = 0
a = (a << 1) | (ai1 ? 1 : 0);
a = (a << 1) | (ai0 ? 1 : 0);

b = 0
b = (b << 1) | (bi1 ? 1 : 0);
b = (b << 1) | (bi0 ? 1 : 0);

sum = a + b + (ci ? 1 : 0);

s0 = (sum & 1) != 0;
sum >>= 1;
s1 = (sum & 1) != 0;
sum >>= 1;
co = (sum & 1) != 0;

ao1 = ai1;
ao0 = ai0;